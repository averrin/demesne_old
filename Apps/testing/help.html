<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<head>
<link rel="stylesheet" href="Vault/clean.css" type="text/css">
<link rel="stylesheet" href="templates/style.css" type="text/css">
</head>

<body style='background: #eee !important'>

<h2>Интерфейс</h2>

<p>Слева находится панель с кнопками категорий настроек</p>
<ul>
    <li><b>Основные</b> &mdash; количество потоков, прогонов, особенности запуска процедур</li>
    <li><b>База данных</b> &mdash; параметры подключения к серверу БД</li>
    <li><b>График</b> &mdash; настройка параметров графика</li>
</ul>
<p>Лог программы открывается по сочетанию <b>Ctrl+Q</b> или по клику на зеленом/красном огоньке в правом нижнем углу.</p>

<p>Нижняя панель:</p>
<ul>
    <li><b>Справка</b> &mdash; вызов встроенной справки</li>
    <li><b>Прогресс-бар</b> &mdash; процент выполненных вызовов в пределах данного прогона</li>
    <li><b>Поехали!</b> &mdash; запуск процесса тестирования</li>
    <li><b>Стоп</b> &mdash; сигнал на остановку потоков</li>
    <li><b>Выход</b> &mdash; остановка потоков и выход из программы</li>
</ul>
<h3>Основные параметры</h3>

<ul>
    <li><b>Количество потоков</b> &mdash; Количество потоков для одиночного прогона и максимальное для полного прогона</li>
    <li><b>Максимум запросов</b> &mdash; Количество запросов, которые выполняет каждый поток. При нулевом значении используются весь файл</li>
    <li><b>Создавать отдельные подключения на каждый запрос</b> &mdash; По-умолчанию создается одно подключение на каждый поток</li>
    <li><b>Пропускать ошибка</b> &mdash; Не отображать ошибки в таблице</li>
    <li><b>Полный цикл</b> &mdash; Делает прогоны начиная с начального количества потоков до максимального. Рисует график после каждого прогона</li>
    <li><b>Начальное количество потоков</b> &mdash; Начальное количество потоков для полного цикла</li>
    <li><b>Шаг</b> &mdash; Шаг увеличения количества потоков в полном цикле</li>
    <li><b>Детальный отчет</b> &mdash; также создает отчет с графиком для каждой процедуры</li>
</ul>

<h3>Параметры БД</h3>
<p>Данные для подключения к БД и имя домена (для процедуры логина в систему)</p>

<h3>Параметры графика</h3>

<ul>
    <li><b>Не показывать среднюю по максимуму</b> &mdash; Не отображает линию среднего значения из максимального времени выполенения</li>
    <li><b>Всегда показывать линию уровня 0.1sec</b> &mdash; Отображает уровень в 100000 микросекунд, даже если все средняя по максимуму меньше 0.1 секунды</li>
    <li><b>Всегда показывать линию уровня 1sec</b> &mdash; Отображает уровень в 1000000 микросекунд, даже если все средняя по максимуму меньше 1 секунды</li>
    <li><b>не показывать ошибки</b> &mdash; Прячет линию количества ошибок*100</li>
</ul>
<h2>Общая информация о программе</h2>
Алгоритм действий пользователя для получения полного отчета:
<ul>
<li>Утанавливается максимальное число потоков</li>
<li>Утанавливается начальное число потоков</li>
<li>Выбирается шаг</li>
<li>Включается опция детального отчета (по-умолчанию выключена, т.к. требует большого количества ресурсов компьютера и делает программу неотзывчивой)</li>
<li>Запускается тестирование</li>
</ul>
Алгоритм действий программы:
<ul>
<li>Создается соответствующее количество потоков</li>
<li>Каждому потоку назначается пользователь из файла users.cfg</li>
<li>Поток ожидает случайное время (от 0 до 10 секунд), затем входит в систему, получая идентификатор сессии</li>
<li>Затем, читает построчно файл proc.list, добавляя данные пользователя в вызов и производя вызов функции. При этом происходит замер времени.</li>
<li>Данные запоминаются и отображаются в окне программы.</li>
<li>По завершении всех потоков, рассчитываются общие показатели, строятся графики и отчеты</li>
<li>Запускается очередной этап тестирования.</li>
</ul>


<h2>Как читать общий отчет</h2>
<ul>
<li><b>Количество запросов на поток</b> — сколько вызовов делает поток за один прогон</li>
<li><b>Количество прогонов</b> — сколько этапов тестирования было (длина следующего списка)</li>
<li><b>Количество потоков</b> — количество потоков на каждом этапе. Может отличаться от прогрессии установленной до начала тестирования в силу дедлоков при логине (пример: [1, 2, 3, 4, 5, 6, 6, 8, 9])</li>
<li><b>Всего вызовов</b> — общее количество запросов к базе</li>
<li><b>Всего ошибок</b> — общее количество ошибок</li>
</ul>

<h2>Как читать отчет по процедуре</h2>
<ul>
<li><b>Количество запусков</b> — сколько раз вызывалась процедура</li>
<li><b>Количество прогонов</b> — сколько было этапов тестирования</li>
<li><b>Параметры, при которых вызов выполнялся минимальное время</b></li>
<li><b>Параметры, при которых вызов выполнялся максимальное время</b></li>
</ul>

<h2>Как читать график</h2>
Данные представлены в микросекундах (одна секунда = 1000000 микросекунд)<br>
<ul>
<li><b style="color: darkgreen;">Зеленая линия</b> — это среднее время выполнения всех запросов в прогоне (количество запросов в списке * количество действующих потоков)</li>
<li><b style="color: red;">Красная</b> — количество ошибок * количество запросов * 100. Если она идет прямой - значит все нормально. Резкий рывок вверх - означает всплеск ошибок на сервере (превышение количества подключений, открытых файлов, падение сервера...)</li>
<li><b style="color: darkorange;">Оранжевая</b> — среднее из максимального времени выполнения процедуры. Выбросы так же означают какие-либо проблемы с быстродействием.</li>
<li><b style="color: blue;"> Линии уровня 0.1sec и 1sec</b> — появляются при пересечении этих значений оранжевой линией.</li>
</ul>
Графики для процедур не имеют линии ошибок.

<h2>Настройки</h2>
Список пользователей настраивается в файле users.cfg. <br>
Пользователи циклично распределяются по потокам.<br>
<p>
Менеджер настроек откроется по щелчку на иконке в правом нижнем углу или по комбинации <b>Ctrl+P</b>. Связанные с программой опции расположены в категории procMeter. <b>Эти настройки являются значениями по-умолчанию, перед запуском проверки их можно изменить в основном окне программы.</b></p>


</body>
